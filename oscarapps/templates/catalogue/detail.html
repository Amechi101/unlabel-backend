{% extends "layout.html" %}

{% load currency_filters %}
{% load i18n %}
{% load purchase_info_tags %}
{% load staticfiles %}

{% block title %}
    {{ product.title }} | {{ block.super }}
{% endblock %}

{% block description %}
    {{ product.description|default:""|striptags }}
{% endblock %}

{% block content %}
<div class="product">
<div class="container">
	<div class="product__overview">
		<div class="product__galleryContainer">
			{% block product_gallery %}
				{% include "catalogue/partials/gallery.html" %}
			{% endblock %}
		</div>
		<div class="product__content">
			<div>
				<h1 class="title product__title">{{ product.get_title }}</h1>
				<h2 class="product__brand">Brand Name</h2> <!-- TODO : add brand name -->
			</div>
			<div>
				{% purchase_info_for_product request product as session %}
				{% if session.price.exists %}
                    <!-- TODO : isolate currency symbol for styling pupose -->
					<p class="product__price">{{ session.price.incl_tax|currency:session.price.currency }}</p>
				{% endif %}
			</div>
            <div>
                {% block product_basket_form %}
                    <div class="product__actions">
                        {% include "catalogue/partials/add_to_basket_form.html" %}
                    </div>
                {% endblock %}
            </div>
		</div>
	</div>
</div>

<div class="product__details">
    <div class="grid grid--inverted grid--borderBottomLess">
        <div class="grid__content">
            {% block product_description %}
                {% if product.description %}
                    <div class="product__descContainer">
                        <p class="subtitle">{% trans 'Description' %}</p>
                        <div class="desc">{{ product.description|safe }}</div>
                    </div>
                {% endif %}
            {% endblock %}
        </div>
        <div class="grid__sidebar">
            <div>
                {% block product_info %}
                    {% if product.upc %}
                        <div class="product__ref">
                            ID #{{ product.upc }}
                        </div>
                    {% endif %}
                {% endblock %}
            </div>
            <div>
                {% include "partials/share_menu.html" %}
            </div>
        </div>
    </div>
</div>


<!-- TODO // dynamic review -->
<section class="influencer-review">
    <div class="container">
        <div class="influencer-review__cols">
            <div class="influencer-review__col">
                <div class="influencer-review__visual">
                    <img src="{% static 'unlabel/dist/img/temp/influencer-review-visual.jpg' %}" alt="">
                </div>
                <div class="caption">
                    <p>Jessi Frederick</p>
                    <p><small>New York City, USA</small></p>
                </div>
            </div>
            <div class="influencer-review__col">
                <div class="influencer-review__content">
                    <p class="subtitle">{% trans 'Product Review' %}</p>
                    <div class="desc">
                        Milo is a streamlined wool bomber, evolved from a softly structured silhouette with minimal, elevated street details. Milo features an in-seam kangaroo pocket, hidden wind placket, and fitted rib knit accents for optimized utility and comfort.
                    </div>
                    <div class="sizechart">
                        <ul class="sizechart__list">
                            <li class="sizechart__item">{% trans 'Height' %}: <span data-sizechart-unit="cm">167</span> <span data-sizechart-unit="inch">65</span></li>
                            <li class="sizechart__item">{% trans 'Hips' %}: <span data-sizechart-unit="cm">91</span> <span data-sizechart-unit="inch">35</span></li>
                            <li class="sizechart__item">{% trans 'Chest' %}: <span data-sizechart-unit="cm">88</span> <span data-sizechart-unit="inch">34</span></li>
                            <li class="sizechart__item">{% trans 'Waist' %}: <span data-sizechart-unit="cm">66</span> <span data-sizechart-unit="inch">25</span></li>
                        </ul>
                        <div class="toggle">
                            <a href="" class="toggle__label toggle__label--left" data-toggle-value="cm">{% trans 'Centimeters' %}</a>
                            <a href="" class="toggle__slider" data-toggle-values="cm,inch"></a>
                            <a href="" class="toggle__label toggle__label--right" data-toggle-value="inch">{% trans 'Inches' %}</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- TODO // dynamic links and influencer name -->
<nav class="nav nav--internal">
    <ul class="nav__list">
        <li class="nav__item u-desktop-only">
            <a href="" class="link">{% trans 'Shipping Info' %}</a>
        </li>
        <li class="nav__item u-desktop-only">
            <a href="" class="link">{% trans 'Returns Policy' %}</a>
        </li>
        <li class="nav__item">
            <a href="" class="link">{% trans 'About Jessi' %}</a>
        </li>
    </ul>
</nav>

<div class="container">
    
</div>

</div>

{% endblock content %}
